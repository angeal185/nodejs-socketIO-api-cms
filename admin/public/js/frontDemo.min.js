var socket = io.connect();

socket.addEventListener("reloadApp", function (data) {
  console.log('working')
  location.reload();
})

function demoEvents(){
  $('.demoToggle').click(function() {
    $('.demoConfig').toggleClass('active');
    $(this).toggleClass('active');
  });
  $('#darkTheme').click(function() {
    $("#dark").load( "app/css/dark.min.css" );
    showtoast('Dark theme');
  });
  $('#lightTheme').click(function() {
    $("#dark").empty(),
    showtoast('Light theme');
  });
}

function buildDemo(){
  var div = $('<div></div>');
  var h4 = $('<h4></h4>');
  var threeCogs = '<div class="three-cogs fa-1x demoToggle"><i class="fa fa-cog fa-fw"></i><i class="fa fa-cog fa-fw"></i><i class="fa fa-cog fa-fw"></i></div>'

  $(threeCogs).prependTo('body').next(div.clone().addClass('demoConfig').clone().append(h4.clone().html('theme'),$(div).clone().addClass('btn-block mb-2 demoBtnDiv')).prependTo('body'));

  _.forEach(["light","dark"],function(i){
    $('.demoBtnDiv').append('<button type="button" id="'+i+'Theme" class="btn-dark shrink blink">'+i+'</button>');

  })
  $('.three-cogs').hover(function() {
    $(this).children('.fa').addClass('fa-spin');
  }, function() {
    $(this).children('.fa').removeClass('fa-spin');
  });
  demoEvents();
}
buildDemo();
