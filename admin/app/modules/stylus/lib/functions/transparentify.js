var utils=require("../utils"),nodes=require("../nodes");module.exports=function(r,e,t){function n(t){return 0==s?e[t]:e[t]+(r[t]-e[t])/s}utils.assertColor(r),r=r.rgba,e=e||new nodes.RGBA(255,255,255,1),t||!e||e.rgba||(t=e,e=new nodes.RGBA(255,255,255,1)),utils.assertColor(e),e=e.rgba;var s=["r","g","b"].map(function(t){return(r[t]-e[t])/((0<r[t]-e[t]?255:0)-e[t])}).sort(function(r,e){return r<e})[0];return t&&(utils.assertType(t,"unit","alpha"),"%"==t.type?s=t.val/100:t.type||(s=t=t.val)),s=Math.max(Math.min(s,1),0),new nodes.RGBA(n("r"),n("g"),n("b"),Math.round(100*s)/100)};
