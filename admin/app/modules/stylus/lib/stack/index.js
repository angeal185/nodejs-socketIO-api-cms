var Stack=module.exports=function(){Array.apply(this,arguments)};Stack.prototype.__proto__=Array.prototype,Stack.prototype.push=function(t){return t.stack=this,t.parent=this.currentFrame,[].push.apply(this,arguments)},Stack.prototype.__defineGetter__("currentFrame",function(){return this[this.length-1]}),Stack.prototype.getBlockFrame=function(t){for(var r=0;r<this.length;++r)if(t==this[r].block)return this[r]},Stack.prototype.lookup=function(t){var r,e=this.currentFrame.block;do{var o=this.getBlockFrame(e);if(o&&(r=o.lookup(t)))return r}while(e=e.parent)},Stack.prototype.inspect=function(){return this.reverse().map(function(t){return t.inspect()}).join("\n")},Stack.prototype.toString=function(){for(var t,r,e,o=[],n=this.length;n--;)if(t=this[n].block,r=t.node)switch(e="("+r.filename+":"+(r.lineno+1)+":"+r.column+")",r.nodeName){case"function":o.push("    at "+r.name+"() "+e);break;case"group":o.push('    at "'+r.nodes[0].val+'" '+e)}return o.join("\n")};
