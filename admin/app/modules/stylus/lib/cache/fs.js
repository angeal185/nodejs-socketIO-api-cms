var crypto=require("crypto"),fs=require("fs"),join=require("path").join,version=require("../../package").version,nodes=require("../nodes"),FSCache=module.exports=function(e){e=e||{},this._location=e["cache location"]||".styl-cache",fs.existsSync(this._location)||fs.mkdirSync(this._location)};FSCache.prototype.set=function(e,t){fs.writeFileSync(join(this._location,e),JSON.stringify(t))},FSCache.prototype.get=function(e){var t=fs.readFileSync(join(this._location,e),"utf-8");return JSON.parse(t,FSCache.fromJSON)},FSCache.prototype.has=function(e){return fs.existsSync(join(this._location,e))},FSCache.prototype.key=function(e,t){var o=crypto.createHash("sha1");return o.update(e+version+t.prefix),o.digest("hex")},FSCache.fromJSON=function(e,t){return t&&t.__type&&(t.__proto__=nodes[t.__type].prototype),t};
