var Node=require("./node"),nodes=require("./"),Ident=module.exports=function(t,e,n){Node.call(this),this.name=t,this.string=t,this.val=e||nodes.null,this.mixin=!!n};Ident.prototype.__defineGetter__("isEmpty",function(){return void 0==this.val}),Ident.prototype.__defineGetter__("hash",function(){return this.name}),Ident.prototype.__proto__=Node.prototype,Ident.prototype.clone=function(t){var e=new Ident(this.name);return e.val=this.val.clone(t,e),e.mixin=this.mixin,e.lineno=this.lineno,e.column=this.column,e.filename=this.filename,e.property=this.property,e.rest=this.rest,e},Ident.prototype.toJSON=function(){return{__type:"Ident",name:this.name,val:this.val,mixin:this.mixin,property:this.property,rest:this.rest,lineno:this.lineno,column:this.column,filename:this.filename}},Ident.prototype.toString=function(){return this.name},Ident.prototype.coerce=function(t){switch(t.nodeName){case"ident":case"string":case"literal":return new Ident(t.string);case"unit":return new Ident(t.toString());default:return Node.prototype.coerce.call(this,t)}},Ident.prototype.operate=function(t,e){var n=e.first;switch(t){case"-":if("unit"==n.nodeName){var i=new nodes.Expression;return n=n.clone(),n.val=-n.val,i.push(this),i.push(n),i}case"+":return new nodes.Ident(this.string+this.coerce(n).string)}return Node.prototype.operate.call(this,t,e)};
