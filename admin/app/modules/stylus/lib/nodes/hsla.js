function clampDegrees(t){return t%=360,t>=0?t:360+t}function clampPercentage(t){return Math.max(0,Math.min(t,100))}function clampAlpha(t){return Math.max(0,Math.min(t,1))}var Node=require("./node"),nodes=require("./"),HSLA=exports=module.exports=function(t,e,n,s){Node.call(this),this.h=clampDegrees(t),this.s=clampPercentage(e),this.l=clampPercentage(n),this.a=clampAlpha(s),this.hsla=this};HSLA.prototype.__proto__=Node.prototype,HSLA.prototype.toString=function(){return"hsla("+this.h+","+this.s.toFixed(0)+"%,"+this.l.toFixed(0)+"%,"+this.a+")"},HSLA.prototype.clone=function(t){var e=new HSLA(this.h,this.s,this.l,this.a);return e.lineno=this.lineno,e.column=this.column,e.filename=this.filename,e},HSLA.prototype.toJSON=function(){return{__type:"HSLA",h:this.h,s:this.s,l:this.l,a:this.a,lineno:this.lineno,column:this.column,filename:this.filename}},HSLA.prototype.__defineGetter__("rgba",function(){return nodes.RGBA.fromHSLA(this)}),HSLA.prototype.__defineGetter__("hash",function(){return this.rgba.toString()}),HSLA.prototype.add=function(t,e,n){return new HSLA(this.h+t,this.s+e,this.l+n,this.a)},HSLA.prototype.sub=function(t,e,n){return this.add(-t,-e,-n)},HSLA.prototype.operate=function(t,e){switch(t){case"==":case"!=":case"<=":case">=":case"<":case">":case"is a":case"||":case"&&":return this.rgba.operate(t,e);default:return this.rgba.operate(t,e).hsla}},exports.fromRGBA=function(t){var e,n,s=t.r/255,i=t.g/255,r=t.b/255,a=t.a,o=Math.min(s,i,r),h=Math.max(s,i,r),c=(h+o)/2,p=h-o;switch(h){case o:e=0;break;case s:e=60*(i-r)/p;break;case i:e=60*(r-s)/p+120;break;case r:e=60*(s-i)/p+240}return n=h==o?0:c<.5?p/(2*c):p/(2-2*c),e%=360,n*=100,c*=100,new HSLA(e,n,c,a)},HSLA.prototype.adjustLightness=function(t){return this.l=clampPercentage(this.l+this.l*(t/100)),this},HSLA.prototype.adjustHue=function(t){return this.h=clampDegrees(this.h+t),this};
