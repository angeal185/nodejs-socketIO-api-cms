var Node=require("./node"),Color=require("./color"),Dimension=require("./dimension"),Operation=function(o,e,t){this.op=o.trim(),this.operands=e,this.isSpaced=t};Operation.prototype=new Node,Operation.prototype.type="Operation",Operation.prototype.accept=function(o){this.operands=o.visit(this.operands)},Operation.prototype.eval=function(o){var e=this.operands[0].eval(o),t=this.operands[1].eval(o);if(o.isMathOn()){if(e instanceof Dimension&&t instanceof Color&&(e=e.toColor()),t instanceof Dimension&&e instanceof Color&&(t=t.toColor()),!e.operate)throw{type:"Operation",message:"Operation on an invalid type"};return e.operate(o,this.op,t)}return new Operation(this.op,[e,t],this.isSpaced)},Operation.prototype.genCSS=function(o,e){this.operands[0].genCSS(o,e),this.isSpaced&&e.add(" "),e.add(this.op),this.isSpaced&&e.add(" "),this.operands[1].genCSS(o,e)},module.exports=Operation;
