module.exports=function(e){var t=require("../tree/dimension"),r=require("../tree/color"),o=require("../tree/expression"),i=require("../tree/quoted"),n=require("../tree/url");require("./function-registry").add("svg-gradient",function(e){function s(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position] or direction, color list"}}var a,l,c,g,d,h,p,u,x="linear",v='x="0" y="0" width="1" height="1"',m={compress:!1},y=e.toCSS(m);switch(2==arguments.length?(arguments[1].value.length<2&&s(),a=arguments[1].value):arguments.length<3?s():a=Array.prototype.slice.call(arguments,1),y){case"to bottom":l='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":l='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":l='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":l='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":x="radial",l='cx="50%" cy="50%" r="75%"',v='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}for(c='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><'+x+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+l+">",g=0;g<a.length;g+=1)a[g]instanceof o?(d=a[g].value[0],h=a[g].value[1]):(d=a[g],h=void 0),d instanceof r&&((0===g||g+1===a.length)&&void 0===h||h instanceof t)||s(),p=h?h.toCSS(m):0===g?"0%":"100%",u=d.alpha,c+='<stop offset="'+p+'" stop-color="'+d.toRGB()+'"'+(u<1?' stop-opacity="'+u+'"':"")+"/>";return c+="</"+x+"Gradient><rect "+v+' fill="url(#gradient)" /></svg>',c=encodeURIComponent(c),c="data:image/svg+xml,"+c,new n(new i("'"+c+"'",c,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)})};
