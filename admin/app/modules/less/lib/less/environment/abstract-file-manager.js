var abstractFileManager=function(){};abstractFileManager.prototype.getPath=function(t){var r=t.lastIndexOf("?");return r>0&&(t=t.slice(0,r)),r=t.lastIndexOf("/"),r<0&&(r=t.lastIndexOf("\\")),r<0?"":t.slice(0,r+1)},abstractFileManager.prototype.tryAppendExtension=function(t,r){return/(\.[a-z]*$)|([\?;].*)$/.test(t)?t:t+r},abstractFileManager.prototype.tryAppendLessExtension=function(t){return this.tryAppendExtension(t,".less")},abstractFileManager.prototype.supportsSync=function(){return!1},abstractFileManager.prototype.alwaysMakePathsAbsolute=function(){return!1},abstractFileManager.prototype.isPathAbsolute=function(t){return/^(?:[a-z-]+:|\/|\\|#)/i.test(t)},abstractFileManager.prototype.join=function(t,r){return t?t+r:r},abstractFileManager.prototype.pathDiff=function(t,r){var e,a,n,i,o=this.extractUrlParts(t),s=this.extractUrlParts(r),l="";if(o.hostPart!==s.hostPart)return"";for(a=Math.max(s.directories.length,o.directories.length),e=0;e<a&&s.directories[e]===o.directories[e];e++);for(i=s.directories.slice(e),n=o.directories.slice(e),e=0;e<i.length-1;e++)l+="../";for(e=0;e<n.length-1;e++)l+=n[e]+"/";return l},abstractFileManager.prototype.extractUrlParts=function(t,r){var e,a,n=/^((?:[a-z-]+:)?\/{2}(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,i=t.match(n),o={},s=[];if(!i)throw new Error("Could not parse sheet href - '"+t+"'");if(r&&(!i[1]||i[2])){if(!(a=r.match(n)))throw new Error("Could not parse page url - '"+r+"'");i[1]=i[1]||a[1]||"",i[2]||(i[3]=a[3]+i[3])}if(i[3]){for(s=i[3].replace(/\\/g,"/").split("/"),e=0;e<s.length;e++)"."===s[e]&&(s.splice(e,1),e-=1);for(e=0;e<s.length;e++)".."===s[e]&&e>0&&(s.splice(e-1,2),e-=2)}return o.hostPart=i[1],o.directories=s,o.path=(i[1]||"")+s.join("/"),o.fileUrl=o.path+(i[4]||""),o.url=o.fileUrl+(i[5]||""),o},module.exports=abstractFileManager;
