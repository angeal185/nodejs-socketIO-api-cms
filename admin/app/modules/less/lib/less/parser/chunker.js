module.exports=function(e,n){function i(n){var i=t-l;i<512&&!n||!i||(C.push(e.slice(l,t+1)),l=t+1)}var c,r,o,s,t,a,u,f,g,d=e.length,h=0,m=0,C=[],l=0;for(t=0;t<d;t++)if(!((u=e.charCodeAt(t))>=97&&u<=122||u<34))switch(u){case 40:m++,r=t;continue;case 41:if(--m<0)return n("missing opening `(`",t);continue;case 59:m||i();continue;case 123:h++,c=t;continue;case 125:if(--h<0)return n("missing opening `{`",t);h||m||i();continue;case 92:if(t<d-1){t++;continue}return n("unescaped `\\`",t);case 34:case 39:case 96:for(g=0,a=t,t+=1;t<d;t++)if(!((f=e.charCodeAt(t))>96)){if(f==u){g=1;break}if(92==f){if(t==d-1)return n("unescaped `\\`",t);t++}}if(g)continue;return n("unmatched `"+String.fromCharCode(u)+"`",a);case 47:if(m||t==d-1)continue;if(47==(f=e.charCodeAt(t+1)))for(t+=2;t<d&&(!((f=e.charCodeAt(t))<=13)||10!=f&&13!=f);t++);else if(42==f){for(o=a=t,t+=2;t<d-1&&(f=e.charCodeAt(t),125==f&&(s=t),42!=f||47!=e.charCodeAt(t+1));t++);if(t==d-1)return n("missing closing `*/`",a);t++}continue;case 42:if(t<d-1&&47==e.charCodeAt(t+1))return n("unmatched `/*`",t);continue}return 0!==h?o>c&&s>o?n("missing closing `}` or `*/`",c):n("missing closing `}`",c):0!==m?n("missing closing `)`",r):(i(!0),C)};
