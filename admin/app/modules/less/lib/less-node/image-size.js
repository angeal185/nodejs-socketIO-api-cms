module.exports=function(e){function r(r,i){var t=i.value,n=r.currentFileInfo,a=n.relativeUrls?n.currentDirectory:n.entryPath,s=t.indexOf("#");-1!==s&&(t.slice(s),t=t.slice(0,s));var o=e.getFileManager(t,a,r.context,e,!0);if(!o)throw{type:"File",message:"Can not set up FileManager for "+i};var u=o.loadFileSync(t,a,r.context,e);if(u.error)throw u.error;return require("image-size")(u.filename)}var i=require("../less/tree/dimension"),t=require("../less/tree/expression"),n=require("./../less/functions/function-registry"),a={"image-size":function(e){var n=r(this,e);return new t([new i(n.width,"px"),new i(n.height,"px")])},"image-width":function(e){var t=r(this,e);return new i(t.width,"px")},"image-height":function(e){var t=r(this,e);return new i(t.height,"px")}};n.addMultiple(a)};
